<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>LS - Cotizaciones_Listado</title>
    <link rel="stylesheet" href="../../assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/css/Footer-Dark-Multi-Column-icons.css">
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-md bg-body container">
            <div class="container-fluid"><a class="navbar-brand navbar-expand-lg"><img src="../../assets/img/Full%20Logo%20Black%20Transparent.png" style="height: 50px;"></a>
                <div class="collapse navbar-collapse" id="navcol-1">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link active" href="#">Ordenes de Venta</a></li>
                        <li class="nav-item"><a class="nav-link" href="/cotizaciones/">Cotizaciones</a></li>
                        <li class="nav-item"><a class="nav-link" href="/clientes/">Clientes</a></li>
                        <li class="nav-item"><a class="nav-link" href="/empresas">Empresas</a></li>
                        <li class="nav-item"><a class="nav-link" href="/conceptos">Conceptos</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <nav class="navbar navbar-expand-md bg-dark py-0" data-bs-theme="dark">
            <div class="container-fluid">
                <div class="container">
                    <div class="collapse navbar-collapse text-start justify-content-sm-end d-xs-flex" id="navcol-2">
                        <ul class="navbar-nav">
                            <li class="nav-item"><a class="nav-link" href="/ordenVenta/">Todas las Ordenes</a></li>
                            <li class="nav-item"></li>
                            <li class="nav-item"><a class="nav-link active disabled" href="#">Detalles</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <main id="ordenData">
        <div class="container pt-3" v-if="orden._id != 0">
            <div id="folio" class="d-flex">
                <div class="me-auto"><small class="me-1">Folio&nbsp;</small><span class="badge bg-danger">#{{orden.folio}}</span>
                    <p class="text-muted small mt-1">{{orden.fechaReadable}}</p>
                </div><small class="text-muted">{{orden._id.toUpperCase()}}</small>
            </div>
            <div id="cliente">
                <fieldset id="clienteEmpresa-1" v-if="orden.cliente.empresa_id">
                    <legend>Cliente</legend>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Nombre</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.empresa_id.nombre" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Atención</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.nombre" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Correo</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.empresa_id.correo" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Teléfono</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.empresa_id.telefono" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">RFC</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.empresa_id.RFC" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Dirección</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.empresa_id.direccion" readonly="" disabled=""></div>
                    </div>
                </fieldset>
                <fieldset id="cliente-1" v-else="">
                    <legend>Cliente</legend>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Nombre</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.nombre" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Correo</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.correo" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Teléfono</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.telefono" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">RFC</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.RFC" readonly="" disabled=""></div>
                    </div>
                    <div class="row mb-2"><label class="form-label col-12 col-form-label col-sm-2">Dirección</label>
                        <div class="col col-12 col-sm-10"><input type="text" class="form-control col-10" :value="orden.cliente.direccion" readonly="" disabled=""></div>
                    </div>
                </fieldset>
            </div>
            <div id="conceptos" class="mt-3">
                <h4>Conceptos</h4>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th class="d-none d-md-table-cell">#</th>
                                <th>Descripción</th>
                                <th class="d-none d-md-table-cell">Precio</th>
                                <th class="d-none d-md-table-cell">Cantidad</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="concepto in orden.conceptos">
                                <td class="d-none d-md-table-cell">{{concepto.concepto.codigo}}</td>
                                <td>{{concepto.concepto.descripcion}}</td>
                                <td class="d-none d-md-table-cell">{{money(concepto.concepto.precio)}}</td>
                                <td class="d-none d-md-table-cell">{{concepto.cantidad}}</td>
                                <td>{{money(concepto.total)}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <div class="col col-6 col-lg-8 d-flex"><label class="col-form-label col-form-label ms-auto">Subtotal</label></div>
                    <div class="col"><input type="text" class="col-10 form-control" readonly="" disabled="" :value="money(orden.subtotal)"></div>
                </div>
            </div>
            <div id="impuestos" class="mt-3">
                <h4>Impuestos</h4>
                <div class="row">
                    <div class="col col-12 col-lg-2 d-flex"><label class="form-label col-form-label">IVA</label><span class="badge ms-auto bg-warning my-auto" v-if="orden.retencionIVA">Retención IVA</span></div>
                    <div class="col"><input type="text" class="col-10 form-control" readonly="" disabled="" :value="money(orden.IVA)"></div>
                </div>
                <div class="row mt-2" v-if="orden.retencionISR != -1">
                    <div class="col col-12 col-lg-2 d-flex"><label class="form-label col-form-label">ISR</label><span class="badge ms-auto bg-warning my-auto">{{orden.retencionISR}}%</span></div>
                    <div class="col"><input type="text" class="col-10 form-control" readonly="" disabled="" :value="money(orden.ISR)"></div>
                </div>
                <div class="row mt-2">
                    <div class="col col-12 col-lg-2 d-flex"><label class="col-form-label col-form-label">Total</label></div>
                    <div class="col"><input type="text" class="col-10 form-control" readonly="" disabled="" :value="money(orden.total)"></div>
                </div>
            </div>
            <div id="extras" class="mt-4">
                <h4>Observaciones y entrega</h4><textarea class="form-control" disabled="" :value="orden.observaciones"></textarea>
                <div class="row mt-2">
                    <div class="col col-12 col-lg-2 d-flex"><label class="col-form-label col-form-label">Entrega</label></div>
                    <div class="col"><input type="text" class="col-10 form-control" readonly="" disabled="" :value="orden.entrega"></div>
                </div>
            </div>
            <hr>
            <div id="pagos" class="mt-5">
                <h4>Pagos</h4>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th class="text-end">Monto</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{orden.fechaReadable}}</td>
                                <td class="text-end">$4,000.00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <div class="col col-12 col-lg-2"><label class="col-form-label col-form-label">Saldo pendiente</label></div>
                    <div class="col col-12 col-lg-7 col-xl-8"><input type="text" class="col-10 form-control" readonly="" disabled=""></div>
                    <div class="col col-12 col-lg-3 col-xl-2 d-flex mt-lg-0 mt-2"><button class="btn ms-auto btn-outline-primary" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-currency-dollar me-2">
                                <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z"></path>
                            </svg>Agregar pago</button></div>
                </div>
            </div>
            <div id="actions" class="my-3 d-flex mt-5"><a class="my-auto" :href="api + 'ordenVenta/print/' + orden._id" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-download me-2">
                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"></path>
                        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"></path>
                    </svg>Descargar</a><button class="btn ms-auto d-flex btn-outline-danger" data-bs-toggle="tooltip" data-bss-tooltip="" data-bs-placement="left" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-archive me-2 my-auto">
                        <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"></path>
                    </svg>Archivar</button><button class="btn btn-primary disabled d-flex ms-2" data-bs-toggle="tooltip" data-bss-tooltip="" data-bs-placement="left" type="button" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-receipt me-2 my-auto">
                        <path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"></path>
                        <path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"></path>
                    </svg>Facturar</button></div>
        </div>
        <div id="loader" class="py-5 w-100 d-flex" v-if="loading">
            <div class="mx-auto d-flex my-5"><span class="spinner-border me-3" role="status"></span><span class="my-auto">Cargando...</span></div>
        </div>
        <div class="container mt-3" id="error" v-if="error.code != 200">
            <div id="err-403">
                <h1 class="d-flex text-danger"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-exclamation-circle my-auto me-3">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
                        <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"></path>
                    </svg>Error {{error.code}}</h1>
                <p>{{error.userMessage}}</p><code>{{error.message}}</code>
            </div>
        </div>
    </main>
    <script src="../../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../assets/js/bs-init.js"></script>
    <script src="../../assets/js/login.js"></script>
    <script src="../../assets/js/vue.global.min.js"></script>
    <script src="../../assets/js/main.js"></script>
    <script src="../../assets/js/ordenVentas/show.js"></script>
</body>

</html>